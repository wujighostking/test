webpackJsonp([23],{"4M3q":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("IcnI"),l=a("/ufx"),i={name:"Measurement",data:function(){return{customParameter:"NDVI",modelFormula:"",index_:null,grade:null,isShowSelectionData:!1,resultTableData:[],handle:"计算",preservation:"导出",sampleNumbers:[],reflectivity:[],isShowEchartLine:!1,userIndex:666}},components:{LightJSPanel:function(){return a.e(6).then(a.bind(null,"xffh"))},MainFunction:function(){return a.e(10).then(a.bind(null,"XGA3"))},Table:function(){return a.e(8).then(a.bind(null,"HcSA"))},SelectionData:function(){return a.e(9).then(a.bind(null,"w1Lt"))},LineChart:function(){return a.e(7).then(a.bind(null,"0Rd6"))}},mounted:function(){},methods:{close:function(){this.clear(),this.$emit("close",this)},clear:function(){n.a.state.map.off("click")},showSelectDataPage:function(){this.isShowSelectionData=!this.isShowSelectionData},determineSelectData:function(t){this.tableData=t.map(function(t){return t.index_="",t.grade="",t}),this.showSelectDataPage(),this.$refs.table.determineCheck()},showChartLine:function(){var t=this;this.isShowEchartLine=!1,this.sampleNumbers=this.$refs.table.$refs.selectData.selection.map(function(t){return t.no.toString()}),this.reflectivity=[],this.sampleNumbers.forEach(function(e){Object(l.b)(e).then(function(e){var a=[];for(var n in e.data.data)a.push(e.data.data[n]);t.reflectivity.push(a),t.isShowEchartLine=!0})})},inversion:function(){var t=this,e=this.$refs.table.$refs.selectData.selection.length;if(0!==e){if(this.resultTableData=[],this.index_=null,this.grade=null,1===e)return this.index_="292848",void(this.grade=350);this.$refs.table.$refs.selectData.selection.forEach(function(e){t.resultTableData.push({no:e.no,gentle:e.gentle,crop:e.crop,useIndex:"292848",useGrade:350,plantIndex:666})})}else this.$message.warning("请选择数据")}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("LightJSPanel",{attrs:{options:{headerTitle:"耕地质量反演",contentSize:{width:1080,height:600}}},on:{close:t.close}},[a("div",{staticClass:"container"},[a("div",{staticStyle:{"margin-right":"20px"}},[a("div",[a("MainFunction",{attrs:{handle:t.handle},on:{process:t.inversion,showSelectDataPage:t.showSelectDataPage}})],1),t._v(" "),a("div",{staticClass:"model-box"},[a("div",{staticClass:"name"},[t._v("反演模型")]),t._v(" "),a("el-input",{staticClass:"model",model:{value:t.modelFormula,callback:function(e){t.modelFormula=e},expression:"modelFormula"}}),t._v(" "),a("el-button",{staticClass:"reset"},[t._v("重置")])],1),t._v(" "),a("div",{staticClass:"model-method"},[a("el-button",[t._v("NDVI")]),t._v(" "),a("el-button",[t._v("DVI")]),t._v(" "),a("el-button",[t._v("LAI")]),t._v(" "),a("el-button",[t._v("RVI")]),t._v(" "),a("el-input",{staticClass:"plant-index",attrs:{disabled:!1,value:t.userIndex}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("Table",{ref:"table",attrs:{tableData:t.tableData,isShowRightCheck:t.isShowSelectionData},on:{showChartLine:t.showChartLine}})],1)]),t._v(" "),a("div",[a("div",{staticClass:"result"},[a("div",{staticClass:"result-name"},[t._v("反演结果")]),t._v(" "),a("div",[a("el-button",{staticStyle:{width:"100px"}},[t._v("保存")]),t._v(" "),a("el-button",[t._v("图上显示")])],1)]),t._v(" "),a("div",{staticClass:"grade"},[a("span",[t._v("耕地质量利用等指数：")]),t._v(" "),a("span",[t._v(t._s(t.index_))]),t._v(" "),a("span",[t._v("耕地质量利用等：")]),t._v(" "),a("span",[t._v(t._s(t.grade))])]),t._v(" "),a("div",{staticStyle:{"margin-top":"39px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resultTableData,height:"325",border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"样点编号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gentle",label:"地类",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"crop",label:"作物",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"useIndex",label:"利用等指数",width:"110"}}),t._v(" "),a("el-table-column",{attrs:{prop:"useGrade",label:"利用等",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"plantIndex",label:"植被指数",width:"80"}})],1)],1)])]),t._v(" "),a("SelectionData",{attrs:{isShowSelectionData:t.isShowSelectionData},on:{closeSelect:t.showSelectDataPage,determineSelectData:t.determineSelectData}})],1)},staticRenderFns:[]};var o=a("VU/8")(i,s,!1,function(t){a("w4z1")},"data-v-4e1fb157",null);e.default=o.exports},w4z1:function(t,e){}});